_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[27],{E34x:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/notifications",function(){return n("pHDb")}])},pHDb:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),o=n.n(a),c=n("HaE+"),i=n("ODXe"),s=n("q1tI"),r=n.n(s),u=n("R/WZ"),d=n("tRbT"),l=n("cBaE"),m=n("apO0"),p=n("kKAo"),f=n("469l"),b=n("ofer"),g=n("csfp"),j=n("PsDL"),w=n("wd/R"),v=n.n(w),O=n("LYUY"),_=Object(O.a)(r.a.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),h=Object(O.a)(r.a.createElement("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete"),D=n("9Koi"),y=r.a.createElement,N=Object(u.a)((function(e){return{container:{padding:e.spacing(2)},time:{fontSize:"0.75rem",opacity:"50%"}}}));var E=function(e){var t=N(),n=Object(D.a)().t,a=function(e){switch(e.obj_type){case"post":var t=e.obj;return t?{message:"".concat(t.user.name," wrote a new post."),url:"/posts/post?id=".concat(t.id)}:{message:"Deleted post.",url:"/"};case"message":var n=e.obj;return n?{message:"".concat(n.user.name," messaged you."),url:"/chat"}:{message:"Deleted message.",url:"/chat"};case"condo":var a=e.obj;return a?{message:"New Condo ".concat(a.number," at ").concat(a.building.address," created."),url:"/condos/condo?id=".concat(a.id)}:{message:"Deleted condo.",url:"/condos"};case"association":var o=e.obj;return o?{message:"New Association ".concat(o.name," created."),url:"/associations/association?id=".concat(o.id)}:{message:"Deleted association.",url:"/associations"};case"reply":var c=e.obj;return c?{message:"".concat(c.user.name," replied to your post."),url:"/posts/post?id=".concat(c.post_id)}:{message:"Deleted rely.",url:"/"};case"building":var i=e.obj;return i?{message:"New Building ".concat(i.address," created."),url:"/buildings"}:{message:"Deleted building.",url:"/"};case"finance":var s=e.obj;return s?{message:"New payment of ".concat(s.price,"$ added to Condo ").concat(s.condo.number," at ").concat(s.condo.building.address,"."),url:"/condos/condo?id=".concat(s.condo_id)}:{message:"Deleted finance.",url:"/"};case"association_member":var r=e.obj;return r?{message:"".concat(r.user.name," ").concat(r.active?"joined":"trying to join"," ").concat(r.association.name,"."),url:"/associations/association?id=".concat(r.association.id)}:{message:"Deleted association member.",url:"/"};default:return{message:"Unimplemented ".concat(e.obj_type),url:"/"}}}(e.notification);return y(d.a,{item:!0,xs:12},y(p.a,{variant:"outlined",square:!0,className:t.container},y(d.a,{alignItems:"center",container:!0,spacing:2},y(d.a,{item:!0},y(f.a,null,e.notification.obj_type[0].toUpperCase())),y(d.a,{xs:!0,item:!0},y(b.a,null,a.message),y(b.a,{className:t.time},v()(e.notification.time).fromNow())),y(d.a,{xs:!0,spacing:2,container:!0,item:!0,justify:"flex-end"},y(g.a,{title:n("View")},y(j.a,{onClick:function(){return e.onClick(a.url)}},y(_,null))),y(g.a,{title:n("Delete")},y(j.a,{onClick:function(){return e.onDelete()}},y(h,null)))))))},x=n("nOHt"),k=r.a.createElement,C=Object(u.a)((function(){return{}}));t.default=function(){C();var e=Object(x.useRouter)(),t=(Object(D.a)().t,Object(l.e)()),n=Object(i.a)(t,2),a=n[0],r=(n[1],Object(s.useState)([])),u=r[0],p=r[1];return Object(l.d)(Object(c.a)(o.a.mark((function e(){var t,n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)("notifications");case 2:(t=e.sent).notifications&&(n=t.notifications,a=n.filter((function(e){return"message"!=e.obj_type})),p(a.reverse()));case 4:case"end":return e.stop()}}),e)}))),l.b),k(m.a,{title:"Notifications | CON",loading:a},k(d.a,{container:!0,spacing:2},u.map((function(t,n){return k(E,{key:t.id,onClick:function(){var n=Object(c.a)(o.a.mark((function n(a){return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.a)("notifications","delete",{id:t.id});case 2:e.push(a);case 3:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),onDelete:Object(c.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(l.a)("notifications","delete",{id:t.id});case 2:p(u.filter((function(e){return e.id!=t.id})));case 3:case"end":return e.stop()}}),e)}))),notification:t})}))))}}},[["E34x",0,2,4,9,1,3,5,6,10]]]);