_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[30],{"45aF":function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/post",function(){return n("Y6X2")}])},Y6X2:function(t,e,n){"use strict";n.r(e);var s=n("o0o1"),a=n.n(s),o=n("HaE+"),r=n("ODXe"),c=n("q1tI"),u=n.n(c),i=n("nOHt"),p=n("9Koi"),d=n("R/WZ"),f=n("tRbT"),O=n("79Xs"),b=n("cBaE"),l=n("apO0"),w=n("Ftm9"),j=n("JSsD"),_=u.a.createElement,m=Object(d.a)({post:{marginTop:j.a.spacing(10)}});e.default=function(){var t=Object(i.useRouter)(),e=Object(b.e)(),n=Object(r.a)(e,2),s=n[0],u=n[1],d=m(),j=(Object(p.a)().t,Object(c.useState)(null)),h=j[0],E=j[1],g=Object(c.useState)(""),v=g[0],N=g[1],x=(u&&u.roles&&u.roles.find((function(t){return"admin"==t})),u&&h&&(u.id,h.user_id),function(){var e=Object(o.a)(a.a.mark((function e(){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.query.id||t.push("/"),e.next=3,Object(b.a)("posts/index","find",{id:t.query.id});case 3:(n=e.sent).posts&&n.posts[0]?E(n.posts[0]):(N("Post not found"),t.push("/"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),X=function(){var e=Object(o.a)(a.a.mark((function e(n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(b.a)("posts/index","delete",{id:n.id});case 2:"OK"==e.sent.status?(N("Post deleted"),t.push("/")):N("Something went wrong");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){s||u||t.push("/")}),[u,h,s]),Object(c.useEffect)((function(){u&&x()}),[u]),_(l.a,{center:!0,title:"Edit post | CON",loading:s},_(f.a,{className:d.post,container:!0,direction:"column",spacing:3},_(f.a,{item:!0},h?_(w.a,{me:u,post:h,onDelete:X}):""),_(O.a,{open:""!=v,autoHideDuration:6e3,onClose:function(){return N("")},message:v})))}}},[["45aF",0,2,4,10,1,3,5,6,7,8,9,11,12]]]);