_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[22],{PkXT:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/buildings/new",function(){return n("qbxq")}])},qbxq:function(e,t,n){"use strict";n.r(t);var a=n("o0o1"),r=n.n(a),o=n("HaE+"),i=n("rePB"),c=n("ODXe"),s=n("q1tI"),u=n.n(s),l=n("nOHt"),d=n("9Koi"),b=n("R/WZ"),f=n("tRbT"),p=n("kKAo"),O=n("ofer"),g=n("r9w1"),j=n("ADg1"),w=n("1AYd"),m=n("cVXz"),h=n("jjAL"),v=n("Z3vd"),y=n("79Xs"),P=n("cBaE"),_=n("zOGZ"),C=n("apO0"),k=u.a.createElement;function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=Object(b.a)((function(e){return{mainContainer:{width:"100%",height:"100vh"},loginContainer:{padding:e.spacing(3)},success:{background:"#4caf50",color:"white"},error:{background:"#f44336",color:"white"}}}));t.default=function(e){var t=Object(P.e)(),n=Object(c.a)(t,2),a=n[0],u=n[1],b=Object(l.useRouter)(),E=N(),S=Object(d.a)().t,D=Object(s.useState)({}),x=D[0],X=D[1],q=Object(s.useState)(null),T=q[0],B=q[1],H=Object(s.useState)(""),R=H[0],W=H[1],Z=Object(s.useState)(""),z=Z[0],I=Z[1],J=Object(s.useState)(""),K=J[0],G=J[1];function L(e){if("association_id"==e.target.name){if("Add association"==e.target.value)return void b.push("/associations/new");G(e.target.value)}X(A(A({},x),{},Object(i.a)({},e.target.name,e.target.value.trim())))}return Object(s.useEffect)((function(){u&&Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)("associations/index");case 2:(t=e.sent).associations&&B(t.associations);case 4:case"end":return e.stop()}}),e)})))()}),[T,u]),a?k(_.a,null):k(C.a,{center:!0,title:"New Building | CON"},k(f.a,{className:E.mainContainer,container:!0,direction:"column",alignItems:"center",justify:"center",spacing:3},k(f.a,{item:!0},k(p.a,{variant:"outlined",square:!0},k(f.a,{className:E.loginContainer,container:!0,direction:"column",justify:"center",spacing:3},k(f.a,{item:!0},k(O.a,{variant:"h4"},"Create building")),k(f.a,{item:!0},k(g.a,{fullWidth:!0,label:S("Address"),name:"address",onChange:L})),k(f.a,{item:!0},k(j.a,{fullWidth:!0},k(w.a,null,"Association"),k(m.a,{value:K,name:"association_id",onChange:L},k(h.a,{value:"Add association"},"Add association"),T&&0!=T.length?T.map((function(e,t){return k(h.a,{value:e.id,key:t},e.name)})):""))),k(f.a,{item:!0},k(v.a,{variant:"contained",color:"secondary",onClick:Object(o.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(P.a)("buildings","create",x);case 2:t=e.sent,console.log(t),t.id?(I("Building created"),b.push("/condos/new")):W("Something went wrong");case 5:case"end":return e.stop()}}),e)})))},S("Submit")),k(y.a,{open:""!=R,autoHideDuration:6e3,onClose:function(){return W("")},message:R,ContentProps:{classes:{root:E.error}}}),k(y.a,{open:""!=z,autoHideDuration:6e3,onClose:function(){return I("")},message:z,ContentProps:{classes:{root:E.success}}})))))))}}},[["PkXT",0,2,4,1,3,5,6,7,8]]]);