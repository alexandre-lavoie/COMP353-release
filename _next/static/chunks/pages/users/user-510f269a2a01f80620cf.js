_N_E=(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[33],{"248F":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),i=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto");t.default=i},"5RF3":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),i=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M11.99 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm3.61 6.34c1.07 0 1.93.86 1.93 1.93 0 1.07-.86 1.93-1.93 1.93-1.07 0-1.93-.86-1.93-1.93-.01-1.07.86-1.93 1.93-1.93zm-6-1.58c1.3 0 2.36 1.06 2.36 2.36 0 1.3-1.06 2.36-2.36 2.36s-2.36-1.06-2.36-2.36c0-1.31 1.05-2.36 2.36-2.36zm0 9.13v3.75c-2.4-.75-4.3-2.6-5.14-4.96 1.05-1.12 3.67-1.69 5.14-1.69.53 0 1.2.08 1.9.22-1.64.87-1.9 2.02-1.9 2.68zM11.99 20c-.27 0-.53-.01-.79-.04v-4.07c0-1.42 2.94-2.13 4.4-2.13 1.07 0 2.92.39 3.84 1.15-1.17 2.97-4.06 5.09-7.45 5.09z"}),"SupervisedUserCircle");t.default=i},"80KL":function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),i=(0,a(n("8/g6")).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M8.17 5.7L1 10.48V21h5v-8h4v8h5V10.25z"}),r.default.createElement("path",{d:"M10 3v1.51l2 1.33L13.73 7H15v.85l2 1.34V11h2v2h-2v2h2v2h-2v4h6V3H10zm9 6h-2V7h2v2z"})),"HomeWork");t.default=i},"9SoY":function(e,t,n){"use strict";n.r(t);var a=n("wx14"),r=n("KQm4"),i=n("o0o1"),s=n.n(i),c=n("HaE+"),o=n("rePB"),u=n("ODXe"),l=n("q1tI"),d=n.n(l),p=n("R/WZ"),f=n("tRbT"),m=n("30+C"),b=n("50B7"),h=n("ofer"),v=n("PsDL"),g=n("gd/W"),y=n("jjAL"),O=n("r9w1"),j=n("79Xs"),x=n("wb2y"),w=n("cBaE"),S=n("eD//"),E=n("tVbE"),P=n("IsqK"),k=n("SLcR"),_=n("469l"),q=n("E8kk"),I=n.n(q),T=n("y9ZN"),C=n.n(T),N=n("80KL"),R=n.n(N),D=n("Rme4"),z=n.n(D),H=n("ZuSV"),M=n.n(H),V=n("+bXu"),F=n("5RF3"),L=n.n(F),A=n("nOHt"),B=n("JSsD"),K=n("9Koi"),W=n("VH89"),Z=n("rcHE"),U=n("apO0"),X=n("xM+5"),J=d.a.createElement;function Y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Y(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q=Object(p.a)({panel:{marginTop:B.a.spacing(4)},nested:{paddingLeft:B.a.spacing(4)},large:{width:B.a.spacing(10),height:B.a.spacing(10)}}),$=["none","friend","family","professor","husband","wife","student","son","daughter"];t.default=function(e){var t=Object(w.e)(),n=Object(u.a)(t,2),i=n[0],o=n[1],p=Object(K.a)().t,q=Object(A.useRouter)(),T=Q(),N=Object(l.useState)(""),D=N[0],H=N[1],F=Object(l.useState)(null),Y=F[0],ee=F[1],te=Object(l.useState)(null),ne=te[0],ae=te[1],re=Object(l.useState)(null),ie=re[0],se=re[1],ce=Object(l.useState)(null),oe=ce[0],ue=ce[1],le=Object(l.useState)(null),de=le[0],pe=le[1],fe=Object(l.useState)(null),me=fe[0],be=fe[1],he=Object(l.useState)(null),ve=he[0],ge=he[1],ye=d.a.useState(null),Oe=Object(u.a)(ye,2),je=Oe[0],xe=Oe[1],we=o&&o.roles&&null!=o.roles.find((function(e){return"admin"==e})),Se=o&&Y&&o.id==Y.id,Ee=Object(l.useState)("none"),Pe=Ee[0],ke=Ee[1],_e=Object(l.useState)(""),qe=_e[0],Ie=_e[1];var Te=function(){var e=Object(c.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y){e.next=5;break}return e.next=3,Object(w.a)("users/index","delete",{id:Y.id});case 3:(t=e.sent).status?(H("Users deleted"),q.push("/")):(console.log(t),H("Something went wrong"));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(c.a)(s.a.mark((function e(t){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(w.a)("posts/index","delete",{id:t.id});case 2:"OK"==e.sent.status?(se(ie.filter((function(e){return e!=t}))),H("Post deleted")):H("Permission required");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,Object(w.a)("posts/index","create",G(G({},t),{},{type:"post"}));case 3:(n=e.sent).id?(se([n].concat(Object(r.a)(ie))),H("Posted")):H("Something went wrong");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){var e=Object(c.a)(s.a.mark((function e(t){var n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("none"!=Pe){e.next=7;break}if(!Y){e.next=5;break}return e.next=4,Object(w.a)("users/relationships","create",{user_id:Y.id,type:t});case 4:n=e.sent;case 5:e.next=19;break;case 7:if("none"!=t){e.next=15;break}if(!ve){e.next=12;break}return e.next=11,Object(w.a)("users/relationships","delete",{id:ve.id});case 11:n=e.sent;case 12:n.status&&ke("none"),e.next=19;break;case 15:if(!ve){e.next=19;break}return e.next=18,Object(w.a)("users/relationships","update",{id:ve.id,type:t});case 18:n=e.sent;case 19:n.type&&ke(t);case 20:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){i||o||q.push("/")}),[o,i]),Object(l.useEffect)((function(){function e(){return t.apply(this,arguments)}function t(){return(t=Object(c.a)(s.a.mark((function e(){var t,n,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return q.query.id||q.push("/"),me&&clearInterval(me),e.next=4,Object(w.a)("users/index","find",{id:q.query.id});case 4:return(t=e.sent).users&&(n=t.users[0])&&(ee(n),n.associations&&ae(n.associations),n.relationships&&pe(n.relationships),n.condos&&ue(n.condos)),e.next=8,Object(w.a)("posts/index","find",{user_id:q.query.id});case 8:(a=e.sent).posts&&se(a.posts.reverse());case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e();var n=setInterval((function(){return e()}),1e4);return be(n),function(){clearInterval(n)}}),[q.query.id]),Object(l.useEffect)((function(){Object(c.a)(s.a.mark((function e(){var t,n;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=5;break}return e.next=3,Object(w.a)("users/relationships","find",{user_id:o.id,user_id_to:q.query.id});case 3:(t=e.sent).user_relationships&&t.user_relationships[0]?(n=t.user_relationships[0],ge(n),ke(n.type),console.log(n.type)):ke("none");case 5:case"end":return e.stop()}}),e)})))()}),[Pe,Y]),J(U.a,{title:Y?"".concat(Y.name," | CON"):"CON",loading:i||null==Y},J(f.a,{container:!0,spacing:4},J(f.a,{item:!0,container:!0,direction:"column",spacing:3,xs:12,md:8},J(f.a,{item:!0},J(m.a,null,J(b.a,{avatar:Y&&Y.image?J(_.a,{className:T.large,src:Y.image}):"",title:J(h.a,{variant:"h2",color:"textPrimary"},Y?Y.name:"User"),action:we?J(d.a.Fragment,null,J(v.a,{onClick:function(e){return xe(e.currentTarget)}},J(M.a,null)),J(g.a,{anchorEl:je,keepMounted:!0,open:Boolean(je),onClose:function(){return xe(null)}},J(y.a,{onClick:function(){Y&&q.push("/users/profile?id=".concat(Y.id))}},"Edit"),J(y.a,{onClick:Te},"Delete"))):""}),J(f.a,{container:!0,alignItems:"center",justify:"space-between"},J(f.a,{item:!0},J(b.a,{avatar:J(_.a,null,J(L.a,null)),title:"Set Relationship"})),J(f.a,{item:!0},J(V.a,{id:"relationBox",freeSolo:!0,style:{width:150,margin:B.a.spacing(2)},options:$,getOptionLabel:function(e){return e},value:Pe,inputValue:qe,onInputChange:function(e,t){return Ie(t)},renderInput:function(e){return J(O.a,Object(a.a)({},e,{variant:"outlined"}))},onChange:function(e,t){return Re(t)}}))))),Se?J(f.a,{item:!0},J(X.a,{onSend:Ne})):"",J(f.a,{item:!0,container:!0,direction:"column",spacing:3},J(W.a,{me:o,posts:ie,onDelete:Ce})),J(j.a,{open:""!=D,autoHideDuration:6e3,onClose:function(){return H("")},message:D})),J(f.a,{item:!0,xs:12,md:4},J(m.a,null,J(S.a,null,J(E.a,null,J(k.a,null,J(_.a,null,J(I.a,null))),J(P.a,{primary:"About",secondary:Y?Y.name:"name"})),J(E.a,null,J(P.a,{primary:J(h.a,{align:"justify",component:"p"},"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque at varius purus, nec placerat tortor. Cras sit amet vulputate dolor. Phasellus sit amet libero vitae sapien sagittis ultrices sit amet sed nisi. Curabitur commodo lorem in ligula lacinia, volutpat tincidunt ipsum ornare. Donec lacinia odio facilisis odio placerat fermentum.")})))),J(m.a,{className:T.panel},J(S.a,null,J(E.a,null,J(k.a,null,J(_.a,null,J(L.a,null))),J(P.a,{primary:p("Associations"),secondary:ne?ne.length:0})),ne&&0!=ne.length?J(d.a.Fragment,null,J(x.a,null),J(Z.a,{heads:ne.map((function(e){return{name:e.name,id:e.id,image:e.image,subname:e.association_role}})),onSelect:function(e){return q.push("/associations/association?id=".concat(e))}})):"")),J(m.a,{className:T.panel},J(S.a,null,J(E.a,null,J(k.a,null,J(_.a,null,J(R.a,null))),J(P.a,{primary:p("Properties"),secondary:oe?oe.length:0})),oe&&0!=oe.length?J(d.a.Fragment,null,J(x.a,null),J(Z.a,{heads:oe.map((function(e){return G(G({},e),{},{id:e.id,name:"condo ".concat(e.building_id,"-").concat(e.number)})})),icon:J(z.a,null),onSelect:function(e){return q.push("/condos/condo?id=".concat(e))}})):"")),J(m.a,{className:T.panel},J(S.a,null,J(E.a,null,J(k.a,null,J(_.a,null,J(C.a,null))),J(P.a,{primary:p("Relationships"),secondary:de?de.length:0})),de&&0!=de.length?J(d.a.Fragment,null,J(x.a,null),J(Z.a,{heads:function(){var e=[],t=de;return de.forEach((function(n,a){return e.push(G(G({},n),{},{subname:t[a].relation_type}))})),e}(),onSelect:function(e){return q.push("/users/user?id=".concat(e))}})):"")))))}},E8kk:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),i=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=i},IsqK:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),i=n("q1tI"),s=(n("17x9"),n("iuhU")),c=n("H2TA"),o=n("ofer"),u=n("MquD"),l=i.forwardRef((function(e,t){var n=e.children,c=e.classes,l=e.className,d=e.disableTypography,p=void 0!==d&&d,f=e.inset,m=void 0!==f&&f,b=e.primary,h=e.primaryTypographyProps,v=e.secondary,g=e.secondaryTypographyProps,y=Object(r.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),O=i.useContext(u.a).dense,j=null!=b?b:n;null==j||j.type===o.a||p||(j=i.createElement(o.a,Object(a.a)({variant:O?"body2":"body1",className:c.primary,component:"span",display:"block"},h),j));var x=v;return null==x||x.type===o.a||p||(x=i.createElement(o.a,Object(a.a)({variant:"body2",className:c.secondary,color:"textSecondary",display:"block"},g),x)),i.createElement("div",Object(a.a)({className:Object(s.a)(c.root,l,O&&c.dense,m&&c.inset,j&&x&&c.multiline),ref:t},y),j,x)}));t.a=Object(c.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(l)},Rme4:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),i=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.default=i},SLcR:function(e,t,n){"use strict";var a=n("wx14"),r=n("Ff2n"),i=n("q1tI"),s=(n("17x9"),n("iuhU")),c=n("H2TA"),o=n("MquD"),u=i.forwardRef((function(e,t){var n=e.classes,c=e.className,u=Object(r.a)(e,["classes","className"]),l=i.useContext(o.a);return i.createElement("div",Object(a.a)({className:Object(s.a)(n.root,c,"flex-start"===l.alignItems&&n.alignItemsFlexStart),ref:t},u))}));t.a=Object(c.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(u)},VH89:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("tRbT"),s=n("Ftm9"),c=r.a.createElement;t.a=function(e){return e.posts?c(r.a.Fragment,null,e.posts.map((function(t,n){return c(i.a,{item:!0,key:n,xs:12},c(s.a,{me:e.me,post:t,onDelete:e.onDelete}))}))):c(r.a.Fragment,null)}},rcHE:function(e,t,n){"use strict";var a=n("q1tI"),r=n.n(a),i=n("R/WZ"),s=n("eD//"),c=n("tVbE"),o=n("SLcR"),u=n("469l"),l=n("IsqK"),d=r.a.createElement,p=function(e){return d(c.a,{button:!0,onClick:function(){return e.onSelect(e.head.id)}},d(o.a,null,d(u.a,{src:e.head.image},e.icon?e.icon:e.head.name.charAt(0))),d(l.a,{primary:e.head.name,secondary:e.head.subname?e.head.subname:""}))},f=r.a.createElement,m=Object(i.a)((function(e){return{chatHeadsContainer:{overflowY:"scroll"}}}));t.a=function(e){var t=m();return e.heads.length>0?f(s.a,{className:t.chatHeadsContainer},e.heads.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t,n){return f(p,{key:n,head:t,icon:e.icon,onSelect:function(t){return e.onSelect(t)}})}))):f(r.a.Fragment,null)}},uxrG:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/users/user",function(){return n("9SoY")}])},"xM+5":function(e,t,n){"use strict";var a=n("o0o1"),r=n.n(a),i=n("rePB"),s=n("HaE+"),c=n("q1tI"),o=n.n(c),u=n("R/WZ"),l=n("30+C"),d=n("oa/T"),p=n("r9w1"),f=n("Ie8z"),m=n("tRbT"),b=n("Z3vd"),h=n("PsDL"),v=n("248F"),g=n.n(v),y=n("9Koi"),O=n("JSsD"),j=n("cBaE"),x=o.a.createElement;function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(i.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var E=Object(u.a)({options:{margin:O.a.spacing(2),marginTop:0},media:{height:300,marginTop:O.a.spacing(2),borderRadius:O.a.spacing(1)}});t.a=function(e){var t=Object(y.a)().t,n=E(),a=Object(c.useState)(e.post),o=a[0],u=a[1],v=Object(c.useState)(""),O=v[0],w=v[1],P=function(){var e=Object(s.a)(r.a.mark((function e(t){var n,a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image"!=t.target.name){e.next=8;break}return n=t.target.files[0],e.next=4,Object(j.c)(n);case 4:return a=e.sent,w(a),u(S(S({},o),{},{image:n})),e.abrupt("return");case 8:u(S(S({},o),{},Object(i.a)({},t.target.name,t.target.value)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=o;e.data="",u(e)},_=function(){w(null);var e=o;delete e.image,u(e)};return Object(c.useEffect)((function(){u(e.post)}),[e.post]),x(l.a,null,x(d.a,null,x(p.a,{variant:"outlined",multiline:!0,rows:o&&o.data?o.data.split("\n").length:1,fullWidth:!0,value:o&&o.data?o.data:"",autoComplete:"off",placeholder:t("What's on your mind?"),name:"data",onChange:P}),O?x(f.a,{component:"img",className:n.media,image:O}):""),x(m.a,{container:!0,alignItems:"center",justify:"space-between"},x(m.a,{item:!0},O?x(b.a,{className:n.options,onClick:_},"Remove Image"):x(h.a,{component:"label",className:n.options},x(g.a,null),x("input",{hidden:!0,type:"file",name:"image",accept:"image/png, image/jpeg",onChange:P}))),x(m.a,{item:!0},x(b.a,{className:n.options,variant:"contained",color:"primary",onClick:function(){e.onSend(o),k(),_()}},t("Post")))))}},y9ZN:function(e,t,n){"use strict";var a=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n("q1tI")),i=(0,a(n("8/g6")).default)(r.default.createElement("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People");t.default=i}},[["uxrG",0,2,4,9,1,3,5,6,7,8,10,11,12]]]);