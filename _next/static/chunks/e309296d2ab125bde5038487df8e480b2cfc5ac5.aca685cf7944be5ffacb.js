(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[13],{"248F":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M3 4V1h2v3h3v2H5v3H3V6H0V4h3zm3 6V7h3V4h7l1.83 2H21c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H5c-1.1 0-2-.9-2-2V10h3zm7 9c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-3.2-5c0 1.77 1.43 3.2 3.2 3.2s3.2-1.43 3.2-3.2-1.43-3.2-3.2-3.2-3.2 1.43-3.2 3.2z"}),"AddAPhoto");t.default=o},"4QZN":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"}),"ChatBubbleOutline");t.default=o},"80KL":function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement(r.default.Fragment,null,r.default.createElement("path",{d:"M8.17 5.7L1 10.48V21h5v-8h4v8h5V10.25z"}),r.default.createElement("path",{d:"M10 3v1.51l2 1.33L13.73 7H15v.85l2 1.34V11h2v2h-2v2h2v2h-2v4h6V3H10zm9 6h-2V7h2v2z"})),"HomeWork");t.default=o},Ftm9:function(e,t,a){"use strict";var n=a("o0o1"),r=a.n(n),o=a("KQm4"),i=a("HaE+"),c=a("ODXe"),s=a("q1tI"),l=a.n(s),u=a("R/WZ"),m=a("30+C"),d=a("50B7"),p=a("469l"),f=a("PsDL"),g=a("gd/W"),h=a("jjAL"),b=a("hlie"),v=a("oa/T"),y=a("ofer"),O=a("Ie8z"),j=a("tRbT"),w=a("IFCi"),E=a("JQEk"),k=a("wb2y"),x=a("aiaX"),C=a.n(x),S=a("4QZN"),N=a.n(S),T=a("ZuSV"),q=a.n(T),I=a("ZqJb"),P=a.n(I),R=a("9Koi"),F=a("kKAo"),H=a("JSsD"),V=a("nOHt"),_=l.a.createElement,M=Object(u.a)({background:{backgroundColor:H.a.palette.primary.main,padding:H.a.spacing(1)},small:{width:H.a.spacing(4),height:H.a.spacing(4)}}),z=function(e){var t=Object(V.useRouter)(),a=M();return _(j.a,{container:!0,spacing:2,alignItems:"center",wrap:"nowrap"},_(j.a,{item:!0},_(p.a,{src:e.user.image?e.user.image:null,className:a.small},e.user.name.charAt(0))),_(j.a,{item:!0},_(F.a,{className:a.background},_(b.a,{color:"inherit",href:"#",onClick:function(){return t.push("/users/user?id=".concat(e.user.id))}},e.user.name),_(y.a,{color:"textSecondary"},e.data))))},D=l.a.createElement,B=Object(u.a)({commentSection:{margin:H.a.spacing(1)}}),A=function(e){var t=B();return D(j.a,{className:t.commentSection,container:!0,direction:"column",spacing:1},e.comments?e.comments.map((function(e,t){return D(j.a,{item:!0,key:t},D(z,{id:e.id,user_id:e.user_id,user:e.user,post_id:e.post_id,time:e.time,data:e.data,type:e.type}))})):"")},L=a("cBaE"),W=a("r9w1"),Z=l.a.createElement,K=Object(u.a)({small:{width:H.a.spacing(4),height:H.a.spacing(4)},large:{width:H.a.spacing(7),height:H.a.spacing(7)},commentField:{paddingLeft:H.a.spacing(2),paddingRight:H.a.spacing(4)},commentBox:{margin:H.a.spacing(1)}}),J=function(e){var t=K(),a=Object(s.useState)(""),n=a[0],r=a[1];return Z(j.a,{item:!0,alignItems:"center",container:!0,className:t.commentBox},Z(j.a,{item:!0},Z(p.a,{src:e.me.image,className:t.small},e.me.name[0])),Z(j.a,{item:!0,xs:!0},Z(W.a,{className:t.commentField,placeholder:"Write a comment...",variant:"outlined",size:"small",fullWidth:!0,name:"comment",autoComplete:"off",value:n,onChange:function(e){return r(e.target.value)},onKeyPress:function(t){"Enter"===t.key&&(e.onSend&&""!=n&&e.onSend(n),r(""))}})))},Q=a("wd/R"),U=a.n(Q),X=l.a.createElement,G=Object(u.a)({media:{height:H.a.spacing(50)},actions:{margin:H.a.spacing(1)},card:{marginBottom:"24px"}});t.a=function(e){var t=G(),a=Object(V.useRouter)(),n=Object(R.a)().t,u=Object(s.useState)([]),x=u[0],S=u[1],T=Object(s.useState)([]),I=T[0],F=T[1],_=Object(s.useState)(!1),M=_[0],z=_[1],D=e.me,B=D&&D.roles&&null!=D.roles.find((function(e){return"admin"==e})),W=l.a.useState(null),Z=Object(c.a)(W,2),K=Z[0],Q=Z[1],Y=function(){var t=Object(i.a)(r.a.mark((function t(a){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!x){t.next=5;break}return t.next=3,Object(L.a)("posts/replies","create",{post_id:e.post.id,data:a,type:"reply"});case 3:(n=t.sent).id&&(z(!0),S([].concat(Object(o.a)(x),[n])));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){var t=e.post.replies;S(t||[])}),[e.post.replies]),Object(s.useEffect)((function(){var t=e.post.associations;F(t||[])}),[e.post.associations]),X(m.a,{variant:"outlined",square:!0,className:t.card},X(d.a,{avatar:X(p.a,{src:e.post.user.image?e.post.user.image:null},e.post.user.name.charAt(0)),action:B||D&&e.post.user_id==D.id?X(l.a.Fragment,null,X(f.a,{onClick:function(e){return Q(e.currentTarget)}},X(q.a,null)),X(g.a,{anchorEl:K,keepMounted:!0,open:Boolean(K),onClose:function(){return Q(null)}},X(h.a,{onClick:function(){a.push("/posts/post?id=".concat(e.post.id))}},"View"),X(h.a,{onClick:function(){a.push("/posts/edit?id=".concat(e.post.id))}},"Edit"),X(h.a,{onClick:function(){Q(null),e.onDelete(e.post)}},"Delete"))):"",title:X(l.a.Fragment,null,X(b.a,{color:"inherit",href:"#",onClick:function(){return a.push("/users/user?id=".concat(e.post.user.id))}},e.post.user?e.post.user.name:"user".concat(e.post.user_id," ")),I&&0!=I.length?X(l.a.Fragment,null,X(P.a,null),I.map((function(e,t){return X(l.a.Fragment,{key:t},0!=t?", ":"",X(b.a,{color:"inherit",href:"#",onClick:function(){return a.push("/associations/association?id=".concat(e.id))}},e.name))}))):""),subheader:e.post.time?U()(e.post.time).fromNow():null}),X(v.a,null,X(y.a,{color:"textPrimary",style:{whiteSpace:"pre-line"}},e.post.data)),e.post.image?X(O.a,{className:t.media,image:e.post.image}):"",X(j.a,{className:t.actions,container:!0,direction:"column",alignItems:"stretch"},X(j.a,{item:!0},X(f.a,{title:n("Comments"),onClick:function(){return z(!M)}},X(w.a,{badgeContent:e.post.replies&&!M?e.post.replies.length:0,color:"secondary"},X(M?C.a:N.a,null)))),X(j.a,{item:!0},X(E.a,{in:M},X(k.a,{style:{marginBottom:H.a.spacing(2)}}),X(J,{me:e.me,onSend:Y}),X(A,{comments:x})))))}},IsqK:function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),o=a("q1tI"),i=(a("17x9"),a("iuhU")),c=a("H2TA"),s=a("ofer"),l=a("MquD"),u=o.forwardRef((function(e,t){var a=e.children,c=e.classes,u=e.className,m=e.disableTypography,d=void 0!==m&&m,p=e.inset,f=void 0!==p&&p,g=e.primary,h=e.primaryTypographyProps,b=e.secondary,v=e.secondaryTypographyProps,y=Object(r.a)(e,["children","classes","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"]),O=o.useContext(l.a).dense,j=null!=g?g:a;null==j||j.type===s.a||d||(j=o.createElement(s.a,Object(n.a)({variant:O?"body2":"body1",className:c.primary,component:"span",display:"block"},h),j));var w=b;return null==w||w.type===s.a||d||(w=o.createElement(s.a,Object(n.a)({variant:"body2",className:c.secondary,color:"textSecondary",display:"block"},v),w)),o.createElement("div",Object(n.a)({className:Object(i.a)(c.root,u,O&&c.dense,f&&c.inset,j&&w&&c.multiline),ref:t},y),j,w)}));t.a=Object(c.a)({root:{flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},multiline:{marginTop:6,marginBottom:6},dense:{},inset:{paddingLeft:56},primary:{},secondary:{}},{name:"MuiListItemText"})(u)},Rme4:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home");t.default=o},SLcR:function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),o=a("q1tI"),i=(a("17x9"),a("iuhU")),c=a("H2TA"),s=a("MquD"),l=o.forwardRef((function(e,t){var a=e.classes,c=e.className,l=Object(r.a)(e,["classes","className"]),u=o.useContext(s.a);return o.createElement("div",Object(n.a)({className:Object(i.a)(a.root,c,"flex-start"===u.alignItems&&a.alignItemsFlexStart),ref:t},l))}));t.a=Object(c.a)({root:{minWidth:56,flexShrink:0},alignItemsFlexStart:{marginTop:8}},{name:"MuiListItemAvatar"})(l)},VH89:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("tRbT"),i=a("Ftm9"),c=r.a.createElement;t.a=function(e){return e.posts?c(r.a.Fragment,null,e.posts.filter((function(t){return!t.associations||0==t.associations.length||e.me.roles&&e.me.roles.includes("admin")||e.me.associations&&e.me.associations.some((function(e){return t.associations.some((function(t){return e.id===t.id}))}))})).map((function(t){return c(o.a,{item:!0,key:t.id,xs:12},c(i.a,{me:e.me,post:t,onDelete:e.onDelete}))}))):c(r.a.Fragment,null)}},ZqJb:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M10 17l5-5-5-5v10z"}),"ArrowRight");t.default=o},aiaX:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}),"ChatBubble");t.default=o},hlie:function(e,t,a){"use strict";var n=a("wx14"),r=a("Ff2n"),o=a("q1tI"),i=(a("17x9"),a("iuhU")),c=a("NqtD"),s=a("H2TA"),l=a("G7As"),u=a("bfFb"),m=a("ofer"),d=o.forwardRef((function(e,t){var a=e.classes,s=e.className,d=e.color,p=void 0===d?"primary":d,f=e.component,g=void 0===f?"a":f,h=e.onBlur,b=e.onFocus,v=e.TypographyClasses,y=e.underline,O=void 0===y?"hover":y,j=e.variant,w=void 0===j?"inherit":j,E=Object(r.a)(e,["classes","className","color","component","onBlur","onFocus","TypographyClasses","underline","variant"]),k=Object(l.a)(),x=k.isFocusVisible,C=k.onBlurVisible,S=k.ref,N=o.useState(!1),T=N[0],q=N[1],I=Object(u.a)(t,S);return o.createElement(m.a,Object(n.a)({className:Object(i.a)(a.root,a["underline".concat(Object(c.a)(O))],s,T&&a.focusVisible,"button"===g&&a.button),classes:v,color:p,component:g,onBlur:function(e){T&&(C(),q(!1)),h&&h(e)},onFocus:function(e){x(e)&&q(!0),b&&b(e)},ref:I,variant:w},E))}));t.a=Object(s.a)({root:{},underlineNone:{textDecoration:"none"},underlineHover:{textDecoration:"none","&:hover":{textDecoration:"underline"}},underlineAlways:{textDecoration:"underline"},button:{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle","-moz-appearance":"none","-webkit-appearance":"none","&::-moz-focus-inner":{borderStyle:"none"},"&$focusVisible":{outline:"auto"}},focusVisible:{}},{name:"MuiLink"})(d)},rcHE:function(e,t,a){"use strict";var n=a("q1tI"),r=a.n(n),o=a("R/WZ"),i=a("eD//"),c=a("tVbE"),s=a("SLcR"),l=a("469l"),u=a("IsqK"),m=r.a.createElement,d=function(e){return m(c.a,{button:!0,onClick:function(){return e.onSelect(e.head.id)}},m(s.a,null,m(l.a,{src:e.head.image},e.icon?e.icon:e.head.name.charAt(0))),m(u.a,{primary:e.head.name,secondary:e.head.subname?e.head.subname:""}))},p=r.a.createElement,f=Object(o.a)((function(e){return{chatHeadsContainer:{overflowY:"auto",maxHeight:"240px"}}}));t.a=function(e){var t=f();return e.heads.length>0?p(i.a,{className:t.chatHeadsContainer},e.heads.sort((function(e,t){return e.name.localeCompare(t.name)})).map((function(t,a){return p(d,{key:a,head:t,icon:e.icon,onSelect:function(t){return e.onSelect(t)}})}))):p(r.a.Fragment,null)}},"xM+5":function(e,t,a){"use strict";var n=a("o0o1"),r=a.n(n),o=a("rePB"),i=a("HaE+"),c=a("q1tI"),s=a.n(c),l=a("R/WZ"),u=a("30+C"),m=a("oa/T"),d=a("r9w1"),p=a("Ie8z"),f=a("tRbT"),g=a("Z3vd"),h=a("PsDL"),b=a("248F"),v=a.n(b),y=a("9Koi"),O=a("JSsD"),j=a("cBaE"),w=s.a.createElement;function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function k(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(Object(a),!0).forEach((function(t){Object(o.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x=Object(l.a)({options:{margin:O.a.spacing(2),marginTop:0},media:{height:300,marginTop:O.a.spacing(2),borderRadius:O.a.spacing(1)}});t.a=function(e){var t=Object(y.a)().t,a=x(),n=Object(c.useState)(e.post),s=n[0],l=n[1],b=Object(c.useState)(""),O=b[0],E=b[1],C=function(){var e=Object(i.a)(r.a.mark((function e(t){var a,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("image"!=t.target.name){e.next=8;break}return a=t.target.files[0],e.next=4,Object(j.c)(a);case 4:return n=e.sent,E(n),l(k(k({},s),{},{image:a})),e.abrupt("return");case 8:l(k(k({},s),{},Object(o.a)({},t.target.name,t.target.value)));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=s;e.data="",l(e)},N=function(){E(null);var e=s;delete e.image,l(e)};return Object(c.useEffect)((function(){l(e.post)}),[e.post]),w(u.a,{variant:"outlined",square:!0},w(m.a,null,w(d.a,{variant:"outlined",multiline:!0,rows:s&&s.data?s.data.split("\n").length:1,fullWidth:!0,value:s&&s.data?s.data:"",autoComplete:"off",placeholder:t("What's on your mind?"),name:"data",onChange:C}),O?w(p.a,{component:"img",className:a.media,image:O}):""),w(f.a,{container:!0,alignItems:"center",justify:"space-between"},w(f.a,{item:!0},O?w(g.a,{className:a.options,onClick:N},"Remove Image"):w(h.a,{component:"label",className:a.options},w(v.a,null),w("input",{hidden:!0,type:"file",name:"image",accept:"image/png, image/jpeg",onChange:C}))),w(f.a,{item:!0},w(g.a,{className:a.options,variant:"contained",color:"primary",onClick:function(){e.onSend(s),S(),N()},disabled:!s||0===s.data.length},t("Post")))))}},y9ZN:function(e,t,a){"use strict";var n=a("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(a("q1tI")),o=(0,n(a("8/g6")).default)(r.default.createElement("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People");t.default=o}}]);